{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Marta/Documents/UNIADRI/Interfaces/SegundaEntrega/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Marta/Documents/UNIADRI/Interfaces/SegundaEntrega/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Marta/Documents/UNIADRI/Interfaces/SegundaEntrega/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from'axios';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setPass=_useState4[1];var uriUsuarios=\"https://recetap.herokuapp.com/usuarios/\";var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var usuario;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(email);console.log(pass);_context.next=5;return axios.get(\"\".concat(uriUsuarios,\"/email/\").concat(email,\"/contrasena/\").concat(pass));case 5:usuario=_context.sent;console.log(typeof usuario.data);if(typeof usuario.data==\"number\"){console.log(\"OK\");localStorage.setItem('user',JSON.stringify(usuario.data));navigate(\"./crearReceta\");}else{window.alert(\"No se han insertado datos correctos\");}case 8:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Inicio de Sesion\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"labelAndInputLoginRegister\",children:\"Correo\"}),/*#__PURE__*/_jsx(\"input\",{value:email,className:\"labelAndInputLoginRegister\",onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\",placeholder:\"tucorreo@mail.com\",id:\"email\",name:\"email\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"labelAndInputLoginRegister\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{value:pass,className:\"labelAndInputLoginRegister\",onChange:function onChange(e){return setPass(e.target.value);},type:\"password\",placeholder:\"********\",id:\"password\",name:\"password\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"b1\",type:\"submit\",children:\"Iniciar Sesion\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:function onClick(){return props.onFormSwitch('register');},children:\"\\xBFNo tienes cuenta todav\\xEDa? Reg\\xEDstrate aqu\\xED.\"})]});};","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","pass","setPass","uriUsuarios","navigate","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","usuario","wrap","_callee$","_context","prev","next","preventDefault","console","log","get","concat","sent","data","localStorage","setItem","JSON","stringify","window","alert","stop","_x","apply","arguments","className","children","onSubmit","htmlFor","value","onChange","target","type","placeholder","id","name","required","onClick","onFormSwitch"],"sources":["C:/Users/Marta/Documents/UNIADRI/Interfaces/SegundaEntrega/app/src/componentes/LoginRegistro/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\n\nexport const Login = (props) => {\n    const [email, setEmail] = useState('');\n    const [pass, setPass] = useState('');\n    const uriUsuarios = \"https://recetap.herokuapp.com/usuarios/\"\n    const navigate = useNavigate();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        console.log(email);\n        console.log(pass);\n        const usuario = await axios.get(`${uriUsuarios}/email/${email}/contrasena/${pass}`);\n        console.log(typeof usuario.data);\n        if((typeof usuario.data) == \"number\"){\n            console.log(\"OK\")\n            localStorage.setItem('user', JSON.stringify(usuario.data));\n            navigate(\"./crearReceta\")\n        }else{\n            window.alert(\"No se han insertado datos correctos\")\n        }\n    }\n\n    return (\n        <div className=\"auth-form-container\">\n            <h2>Inicio de Sesion</h2>\n            <form className=\"login-form\" onSubmit={handleSubmit}>\n                <label htmlFor=\"email\" className=\"labelAndInputLoginRegister\">Correo</label>\n                <input value={email} className=\"labelAndInputLoginRegister\" onChange={(e) => setEmail(e.target.value)}type=\"email\" placeholder=\"tucorreo@mail.com\" id=\"email\" name=\"email\" required />\n                <label htmlFor=\"password\" className=\"labelAndInputLoginRegister\">Contraseña</label>\n                <input value={pass}  className=\"labelAndInputLoginRegister\" onChange={(e) => setPass(e.target.value)} type=\"password\" placeholder=\"********\" id=\"password\" name=\"password\"  required/>\n                <button className=\"b1\" type=\"submit\">Iniciar Sesion</button>\n            </form>\n            <button className=\"link-btn\" onClick={() => props.onFormSwitch('register')}>¿No tienes cuenta todavía? Regístrate aquí.</button>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}